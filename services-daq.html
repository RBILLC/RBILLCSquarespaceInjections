<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $(document).ready(function ()
    {
        //Prepend Page Nav
        $("#site").prepend('<div class="show-on-scroll-wrapper" id="showOnScrollWrapper"><div id="mainNavWrapper" class="nav-wrapper show-on-scroll"><nav id="mainNavigation" data-content-field="navigation" ><div class="index"><a href="/welcome/">Home</a></div><a href="/#services-section"><div class="dropdown"><button class="dropbtn">Services</button></a><div class="dropdown-content"><a href="#" id="aHref_services-daq">DAQ/LabVIEW Developmental Services</a><a href="/vba-automation">Microsoft Office 2016 VBA Automation Solutions</a><a href="/jmp-service-details">JMP DOE & JSL Statistical Automation</a></div></div><div class="index"><a href="/welcome/#quote-request-section">Request Quote</a></div><div class="index"><a href="#" id="aHref_DAQ-Overview">DAQ Overview</a></div><div class="dropdown"><button id="button_daq-case-studies" class="dropbtn">DAQ Case Studies</button><div class="dropdown-content"><a href="#anchor-casestudies-1">LabVIEW Ethernet Manufacturing DAQ System</a></div></div><div class="dropdown"><button id="button_simulations" class="dropbtn">LabVIEW simulations</button><div class="dropdown-content"><a href="#anchor-casestudies-simulation">Storage Tank Flow Level Controller</a></div></div></div></nav></div></div>');

        //Smooth scroll to top of page event
        $("#aHref_DAQ-Overview").click(function () {
            $('html, body').animate({
                scrollTop: parseInt($("#page").offset().top)
            }, 400);
        });

        //Smooth scroll to top of page event
        $("#aHref_services-daq").click(function () {
            $('html, body').animate({
                scrollTop: parseInt($("#page").offset().top)
            }, 400);
        });

        //Smooth scroll to top of Access Case Studies
        $("#button_daq-case-studies").click(function () {
            $('html, body').animate({
                scrollTop: parseInt($("#anchor-casestudies-1").offset().top)
            }, 400);
        });

        //Smooth scroll to top of Access Case Studies
        $("#button_simulations").click(function () {
            $('html, body').animate({
                scrollTop: parseInt($("#anchor-casestudies-simulation").offset().top)
            }, 400);
        });

        //Align submenu to right if cut-off from window
        $(function () {
            $(".dropdown").on('mouseenter mouseleave', function (e) {
                if ($('.dropdown-content', this).length) {
                    var dropdownElement = $('.dropdown-content:first', this);
                    var elementOffset = dropdownElement.offset();
                    var elementOffsetLeft = elementOffset.left;
                    var elementWidth = dropdownElement.width();
                    var pageHeigth = $(".show-on-scroll-wrapper").height();
                    var pageWidth = $(".show-on-scroll-wrapper").width();
                    //if left offset + width of dropdown is bigger than container width then it is cut-off
                    if ((elementOffsetLeft + elementWidth) > pageWidth) {
                        $(".dropdown-content").css({ "left": "auto", "right": "0", "margin-right": "-10px;" });
                    } else {
                        $(".dropdown-content").css({ "left": "0", "right": "auto", "margin-left": "-10px;" });
                    }
                }
            });
        });
    }); 

    //Hide or show Nav based on page position
    $(window).scroll(function() {
        var scroll = $(window).scrollTop();

        if (scroll >= 150) {
            $('.show-on-scroll-wrapper').addClass("show");
        } else {
            $('.show-on-scroll-wrapper').removeClass("show");
        }
     });
</script>